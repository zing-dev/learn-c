#include "stdio.h"
#include "stdlib.h"
#include "math.h"

/*======================================================
// ��������r_trzg
// ������������׷�Ϸ������Է�����
// ���������a ��ϵ������b ��������x���صĽ�����
//           n δ֪��������eps ����Ҫ��С��eps��ֵ����Ϊ��0��
// ����ֵ�����͡����гɹ��򷵻�1,ʧ���򷵻�0
=========================================================*/
int r_trzg(a, b, x, n, eps)

double *a, *b, *x, eps;
int n;
{
int i, k, l;
if((a==NULL)||(b==NULL)||(x==NULL))             /* ��������ָ���Ƿ�Ϊ��*/
{
printf("The pointer is NULL\n");
return(0);
}
for(
k = 0;
k<n-1; k++)
{
l = k * n + k;
if(
fabs(a[l])
< eps)                          /* �ж���Ԫ�Ƿ��С*/
{
printf("failed.\n");                        /* ��Ԫ��С�����ʧ��*/
return(0);                                  /* ����Ԫ��С���˳�����*/
}
a[l+1] = a[l+1]/a[l];                         /* ��һ������*/
b[k] = b[k]/a[l];                             /* ���������Ĺ�һ������*/
a[l+n+1] -= a[l+n]*a[l+1];                    /* ��Ԫ����*/
b[k+1] -= a[l+n]*b[k];                        /* ��������ҲҪ������Ԫ����*/
}
x[n-1] = b[n-1]/a[
n *n
-1];                       /* ��һ�����ֱ�Ӷ���*/
for(
i = n - 2;
i>=0; i--)                          /* �������лش������������*/
x[i] = b[i] - a[
i *n
+i+1]*x[i+1];
return(1);                                     /* ���ɹ�������1*/
}